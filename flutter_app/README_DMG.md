# –°–æ–∑–¥–∞–Ω–∏–µ DMG –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞ macOS

## ‚ö†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

–î–ª—è —Å–æ–∑–¥–∞–Ω–∏—è DMG —Ñ–∞–π–ª–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è **–ø–æ–ª–Ω—ã–π Xcode.app** (–Ω–µ —Ç–æ–ª—å–∫–æ Command Line Tools).

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è Xcode
ls /Applications/Xcode.app

# –ï—Å–ª–∏ Xcode –Ω–µ –Ω–∞–π–¥–µ–Ω, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–≥–æ –∏–∑ App Store
```

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Xcode

1. –û—Ç–∫—Ä–æ–π—Ç–µ **App Store**
2. –ù–∞–π–¥–∏—Ç–µ **Xcode**
3. –ù–∞–∂–º–∏—Ç–µ **–ü–æ–ª—É—á–∏—Ç—å** –∏–ª–∏ **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å**
4. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (–º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 30-60 –º–∏–Ω—É—Ç)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Xcode

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

```bash
# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ Xcode.app
sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer

# –ü—Ä–∏–Ω—è—Ç–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏ –∏ –ø–µ—Ä–≤–∏—á–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
sudo xcodebuild -runFirstLaunch

# –ü—Ä–∏–Ω—è—Ç–∏–µ –ª–∏—Ü–µ–Ω–∑–∏–∏ (–µ—Å–ª–∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è)
sudo xcodebuild -license accept
```

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

```bash
flutter doctor
```

–î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ Xcode —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –ø—Ä–∞–≤–∏–ª—å–Ω–æ.

### –®–∞–≥ 4: –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd /Users/vovkes/CoreML/flutter_app
flutter build macos --release
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤: `build/macos/Build/Products/Release/flutter_app.app`

### –®–∞–≥ 5: –°–æ–∑–¥–∞–Ω–∏–µ DMG

**–ü—Ä–æ—Å—Ç–æ–π –≤–∞—Ä–∏–∞–Ω—Ç:**
```bash
./create_dmg.sh
```

**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –≤–∞—Ä–∏–∞–Ω—Ç (—Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞):**
```bash
./create_dmg_advanced.sh
```

## üì¶ –†–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Ñ–∞–π–ª:
- **`CoreML_RAG_MCP_Chat.dmg`**

## üíæ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –Ω–∞ –¥—Ä—É–≥–æ–π Mac

1. –ü–µ—Ä–µ–¥–∞–π—Ç–µ DMG —Ñ–∞–π–ª –Ω–∞ –¥—Ä—É–≥–æ–π Mac (—á–µ—Ä–µ–∑ AirDrop, USB, –∏–ª–∏ –æ–±–ª–∞–∫–æ)
2. –û—Ç–∫—Ä–æ–π—Ç–µ DMG —Ñ–∞–π–ª (–¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫)
3. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ `flutter_app.app` –≤ –ø–∞–ø–∫—É **Applications**
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ **Applications**

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: "Xcode installation is incomplete"

**–†–µ—à–µ–Ω–∏–µ:**
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ–ª–Ω—ã–π Xcode –∏–∑ App Store (–Ω–µ —Ç–æ–ª—å–∫–æ Command Line Tools)
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫—É (—Å–º. –®–∞–≥ 2)

### –ü—Ä–æ–±–ª–µ–º–∞: "unable to find utility xcodebuild"

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ Xcode
xcode-select -p

# –ï—Å–ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç /Library/Developer/CommandLineTools, –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ –Ω–∞ Xcode.app
sudo xcode-select --switch /Applications/Xcode.app/Contents/Developer
```

### –ü—Ä–æ–±–ª–µ–º–∞: "–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"

**–†–µ—à–µ–Ω–∏–µ:**
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã–ø–æ–ª–Ω–∏–ª–∏: `flutter build macos --release`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å: `build/macos/Build/Products/Release/flutter_app.app`
- –ï—Å–ª–∏ –ø—É—Ç—å –¥—Ä—É–≥–æ–π, –æ–±–Ω–æ–≤–∏—Ç–µ `BUILD_DIR` –≤ —Å–∫—Ä–∏–ø—Ç–µ

## üìù –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π —Å–ø–æ—Å–æ–± (–±–µ–∑ Xcode)

–ï—Å–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Xcode –Ω–µ–≤–æ–∑–º–æ–∂–Ω–∞, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ —Å–æ–±—Ä–∞–Ω–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

1. –ü–æ–ø—Ä–æ—Å–∏—Ç–µ –∫–æ–≥–æ-—Ç–æ —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–º Xcode —Å–æ–±—Ä–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ü–æ–ª—É—á–∏—Ç–µ `.app` —Ñ–∞–π–ª
3. –°–æ–∑–¥–∞–π—Ç–µ DMG –≤—Ä—É—á–Ω—É—é:
   ```bash
   # –°–æ–∑–¥–∞–Ω–∏–µ DMG –≤—Ä—É—á–Ω—É—é
   hdiutil create -volname "CoreML RAG MCP Chat" \
     -srcfolder path/to/flutter_app.app \
     -ov -format UDZO CoreML_RAG_MCP_Chat.dmg
   ```

## üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –≤–∏–¥–∞ DMG

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π —Å–∫—Ä–∏–ø—Ç (`create_dmg_advanced.sh`) —Å–æ–∑–¥–∞–µ—Ç DMG —Å:
- –ù–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º –æ–∫–Ω–∞
- –ü—Ä–∞–≤–∏–ª—å–Ω—ã–º —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ–º –∏–∫–æ–Ω–æ–∫
- –°—Å—ã–ª–∫–æ–π –Ω–∞ Applications

## üìä –†–∞–∑–º–µ—Ä DMG

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–∞–∑–º–µ—Ä: **50-100 MB** (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)

## üîê –ü–æ–¥–ø–∏—Å—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–î–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ App Store –∏–ª–∏ –≤–Ω–µ App Store —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–¥–ø–∏—Å—å:

1. –ü–æ–ª—É—á–∏—Ç–µ Apple Developer –∞–∫–∫–∞—É–Ω—Ç
2. –°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏
3. –ü–æ–¥–ø–∏—à–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   ```bash
   codesign --deep --force --verify --verbose \
     --sign "Developer ID Application: Your Name" \
     flutter_app.app
   ```
4. –ù–æ—Ç–∞—Ä–∏–∑—É–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –≤–Ω–µ App Store)

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Flutter macOS Setup](https://docs.flutter.dev/get-started/install/macos)
- [Xcode Installation Guide](https://developer.apple.com/xcode/)
- [Creating DMG Files](https://developer.apple.com/library/archive/documentation/CoreFoundation/Conceptual/CFBundles/BundleTypes/BundleTypes.html)

